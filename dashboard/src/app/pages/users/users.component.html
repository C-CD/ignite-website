<section class="wrapper">

  <app-sidebar page="users"></app-sidebar>

  <div class="main">
    <app-header></app-header>

    <main class="content">
      <div class="container-fluid p-0">

        <h1 class="h3 mb-3">Users</h1>



        <div class="row">

          <div class="col-md-5 col-lg-4">
            <div class="card">
              <div class="card-header">
                <h5 class="card-title">Create User</h5>
                <h6 class="card-subtitle text-muted">Add a new administrative user.</h6>
              </div>
              <div class="card-body">
                <div>
                  <form [formGroup]="formDataGroup" (ngSubmit)="addUser(formDataGroup.value)" #fd="ngForm"
                    [ngxFvControl]="fd">

                    <div class="row g-3 mb-3">
                      <div class="col-12">
                        <div class="alert alert-info alert-dismissible" role="alert">
                          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                          <div class="alert-message">
                            <h5 class="alert-heading fw-bold">Information</h5>
                            <p class="small">To ensure a secure access to this administrative panel please use passwords
                              that are less
                              predictive and greater than 7 characters.</p>
                          </div>
                        </div>
                      </div>

                      <div class="col-12">
                        <ngx-fv-validate [control]="formDataGroup.controls.name" labelName='Full Name'>
                          <label class="form-label">Full Name</label>
                          <input class="form-control text-capitalize" placeholder="Eg: Miranda Williams"
                            formControlName="name" #ngxFvFormControl>
                          <!-- display form errors -->
                          <div class="text-danger pt-1">
                            <ngx-fv-error></ngx-fv-error>
                          </div>
                        </ngx-fv-validate>
                      </div>

                      <div class="col-md-6">
                        <ngx-fv-validate [control]="formDataGroup.controls.role" labelName='Administrative Role'>
                          <label class="form-label">Administrative Role</label>
                          <select class="form-control form-select" formControlName="role" #ngxFvFormControl>
                            <option value="" selected disabled>Assign Role</option>
                            <option value="admin">Administrator</option>
                            <option value="editor">Editor</option>
                            <option value="viewer">Viewer</option>
                          </select>
                          <!-- display form errors -->
                          <div class="text-danger pt-1">
                            <ngx-fv-error></ngx-fv-error>
                          </div>
                        </ngx-fv-validate>

                      </div>


                      <div class="col-md-6">
                        <ngx-fv-validate [control]="formDataGroup.controls.gender" labelName='Gender'>
                          <label class="form-label">Gender</label>
                          <select class="form-control form-select" formControlName="gender" #ngxFvFormControl>
                            <option value="" selected disabled>Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                          </select>
                          <!-- display form errors -->
                          <div class="text-danger pt-1">
                            <ngx-fv-error></ngx-fv-error>
                          </div>
                        </ngx-fv-validate>
                      </div>

                      <div class="col-md-6">
                        <ngx-fv-validate [control]="formDataGroup.controls.email" labelName='Email Address'>
                          <label class="form-label">Email address</label>
                          <input type="email" class="form-control" formControlName="email" #ngxFvFormControl
                            placeholder="Eg: mirandawilliams@example.com">
                          <!-- display form errors -->
                          <div class="text-danger pt-1">
                            <ngx-fv-error></ngx-fv-error>
                          </div>
                        </ngx-fv-validate>
                      </div>

                      <div class="col-md-6">
                        <ngx-fv-validate [control]="formDataGroup.controls.phone" labelName='Email Address'>
                          <label class="form-label">Phone Number</label>
                          <input class="form-control" formControlName="phone" #ngxFvFormControl
                            placeholder="Eg: 09000011144">
                          <!-- display form errors -->
                          <div class="text-danger pt-1">
                            <ngx-fv-error></ngx-fv-error>
                          </div>
                        </ngx-fv-validate>
                      </div>

                      <div class="col-md-6">
                        <ngx-fv-validate [control]="formDataGroup.controls.password" labelName='Password'>
                          <label class="form-label">Password</label>
                          <input type="password" class="form-control" placeholder="Password" formControlName="password"
                            #ngxFvFormControl>
                          <!-- display form errors -->
                          <div class="text-danger pt-1">
                            <ngx-fv-error></ngx-fv-error>
                          </div>
                        </ngx-fv-validate>
                      </div>

                      <div class="col-md-6">
                        <ngx-fv-validate [control]="formDataGroup.controls.confirm" labelName='Confirm Password'>
                          <label class="form-label">Confirm Password</label>
                          <input type="password" class="form-control" placeholder="Confirm Password"
                            formControlName="confirm" #ngxFvFormControl>
                          <!-- display form errors -->
                          <div class="text-danger pt-1">
                            <ngx-fv-error></ngx-fv-error>
                          </div>
                        </ngx-fv-validate>
                      </div>
                    </div>

                    <div>
                      <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-7 col-lg-8">
            <div class="card">
              <div class="card-header">
                <h5 class="card-title">Administrative Users</h5>
                <h6 class="card-subtitle text-muted">All administrative users.</h6>
              </div>
              <div class="card-body">
                <div *ngIf="users">
                  <table datatable class="table table-hover" style="width:100%">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Last Seen</th>
                        <th>Actions</th>
                      </tr>
                    </thead>
                    <tbody >
                      <tr *ngFor="let user of users">
                        <td class="text-capitalize">{{ user.info.name }}</td>
                        <td>{{ user.info.email }}</td>
                        <td class="text-capitalize"><strong>{{ user.info.role }}</strong></td>
                        <td>{{ user.auth.seen }}</td>
                        <td class="table-action">
                          <a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                              stroke-linejoin="round" class="feather feather-edit-2 align-middle">
                              <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
                            </svg>
                          </a>&nbsp;
                          <a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                              stroke-linejoin="round" class="feather feather-trash align-middle">
                              <polyline points="3 6 5 6 21 6"></polyline>
                              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                              </path>
                            </svg></a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

        </div>



      </div>
    </main>

    <app-footer></app-footer>

  </div>
</section>
